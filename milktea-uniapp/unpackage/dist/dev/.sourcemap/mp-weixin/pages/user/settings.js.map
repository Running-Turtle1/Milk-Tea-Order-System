{"version":3,"file":"settings.js","sources":["pages/user/settings.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9zZXR0aW5ncy52dWU"],"sourcesContent":["<template>\n\t<view class=\"settings-container\">\n\t\t<view class=\"settings-header\">\n\t\t\t<view class=\"header-title\">设置</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"settings-section\">\n\t\t\t<view class=\"section-title\">账户设置</view>\n\t\t\t\n\t\t\t<view class=\"settings-list\">\n\t\t\t\t<view class=\"settings-item\" @click=\"changePassword\">\n\t\t\t\t\t<image src=\"/static/icons/settings/password.svg\" class=\"settings-icon-img\"></image>\n\t\t\t\t\t<text class=\"settings-text\">修改密码</text>\n\t\t\t\t\t<text class=\"arrow\">></text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"settings-item\" @click=\"changePhone\">\n\t\t\t\t\t<image src=\"/static/icons/settings/phone.svg\" class=\"settings-icon-img\"></image>\n\t\t\t\t\t<text class=\"settings-text\">更换手机号</text>\n\t\t\t\t\t<text class=\"arrow\">></text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"settings-item\" @click=\"updateUserInfo\">\n\t\t\t\t\t<image src=\"/static/icons/settings/user.svg\" class=\"settings-icon-img\"></image>\n\t\t\t\t\t<text class=\"settings-text\">修改个人信息</text>\n\t\t\t\t\t<text class=\"arrow\">></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"settings-section\">\n\t\t\t<view class=\"logout-btn\">\n\t\t\t\t<button type=\"default\" @click=\"logout\">退出登录</button>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttoken: uni.getStorageSync('token') || ''\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\t// 检查登录状态\n\t\t\tthis.checkLoginStatus();\n\t\t},\n\t\tmethods: {\n\t\t\t// 检查登录状态\n\t\t\tcheckLoginStatus() {\n\t\t\t\tconst token = uni.getStorageSync('token');\n\t\t\t\tif (!token) {\n\t\t\t\t\tthis.promptLogin();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 修改密码\n\t\t\tchangePassword() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/user/change-password'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 更换手机号\n\t\t\tchangePhone() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/user/change-phone'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 修改个人信息\n\t\t\tupdateUserInfo() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/user/user-info'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 退出登录\n\t\t\tlogout() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '确定要退出登录吗？',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.handleLogout();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 处理退出登录\n\t\t\thandleLogout() {\n\t\t\t\t// 清除用户数据\n\t\t\t\tuni.removeStorageSync('token');\n\t\t\t\tuni.removeStorageSync('userInfo');\n\t\t\t\t\n\t\t\t\t// 跳转到登录页\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl: '/pages/login/login'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.showToast('已退出登录', 'success');\n\t\t\t},\n\t\t\t\n\t\t\t// 提示登录\n\t\t\tpromptLogin() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '请先登录',\n\t\t\t\t\tconfirmText: '去登录',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: '/pages/login/login'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.navigateBack();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 显示提示信息\n\t\t\tshowToast(title, icon = 'none') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle,\n\t\t\t\t\ticon\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.settings-container {\n\t\tpadding: 20rpx;\n\t\tbackground-color: #121212;\n\t\tmin-height: 100vh;\n\t}\n\t\n\t.settings-header {\n\t\tpadding: 30rpx 0;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.header-title {\n\t\tfont-size: 40rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #ffffff;\n\t}\n\t\n\t.settings-section {\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.section-title {\n\t\tfont-size: 28rpx;\n\t\tcolor: #888888;\n\t\tmargin-bottom: 15rpx;\n\t\tpadding: 0 10rpx;\n\t}\n\t\n\t.settings-list {\n\t\tbackground-color: #1a1a1a;\n\t\tborder-radius: 20rpx;\n\t\toverflow: hidden;\n\t}\n\t\n\t.settings-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 30rpx;\n\t\tposition: relative;\n\t\tborder-bottom: 2rpx solid #2a2a2a;\n\t}\n\t\n\t.settings-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.settings-item:active {\n\t\tbackground-color: #2a2a2a;\n\t}\n\t\n\t.settings-icon-img {\n\t\twidth: 50rpx;\n\t\theight: 50rpx;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.settings-text {\n\t\tflex: 1;\n\t\tfont-size: 28rpx;\n\t\tcolor: #ffffff;\n\t}\n\t\n\t.arrow {\n\t\tfont-size: 28rpx;\n\t\tcolor: #888888;\n\t}\n\t\n\t.logout-btn {\n\t\tmargin-top: 50rpx;\n\t}\n\t\n\t.logout-btn button {\n\t\tbackground-color: #333;\n\t\tcolor: #fff;\n\t\tborder: none;\n\t}\n</style> ","import MiniProgramPage from 'C:/Users/LXD/Desktop/奶茶点单系统/milktea-uniapp/pages/user/settings.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAuCC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,OAAOA,cAAG,MAAC,eAAe,OAAO,KAAK;AAAA,IACvC;AAAA,EACA;AAAA,EACD,SAAS;AAER,SAAK,iBAAgB;AAAA,EACrB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,mBAAmB;AAClB,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,CAAC,OAAO;AACX,aAAK,YAAW;AAAA,MACjB;AAAA,IACA;AAAA;AAAA,IAGD,iBAAiB;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,cAAc;AACbA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,iBAAiB;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,SAAS;AACRA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChB,iBAAK,aAAY;AAAA,UAClB;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,eAAe;AAEdA,0BAAI,kBAAkB,OAAO;AAC7BA,0BAAI,kBAAkB,UAAU;AAGhCA,oBAAAA,MAAI,SAAS;AAAA,QACZ,KAAK;AAAA,MACN,CAAC;AAED,WAAK,UAAU,SAAS,SAAS;AAAA,IACjC;AAAA;AAAA,IAGD,cAAc;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,aAAa;AAAA,QACb,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChBA,0BAAAA,MAAI,WAAW;AAAA,cACd,KAAK;AAAA,YACN,CAAC;AAAA,iBACK;AACNA,0BAAG,MAAC,aAAY;AAAA,UACjB;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,UAAU,OAAO,OAAO,QAAQ;AAC/BA,oBAAAA,MAAI,UAAU;AAAA,QACb;AAAA,QACA;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;ACnID,GAAG,WAAW,eAAe;"}