{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<view class=\"home-container\">\n\t\t<!-- 顶部轮播图 -->\n\t\t<swiper class=\"banner-swiper\" circular :indicator-dots=\"true\" :autoplay=\"true\" :interval=\"3000\" :duration=\"1000\">\n\t\t\t<swiper-item>\n\t\t\t\t<image :src=\"shopInfo.logo || '/static/logo.png'\" mode=\"aspectFill\" class=\"banner-image\"></image>\n\t\t\t</swiper-item>\n\t\t</swiper>\n\t\t\n\t\t<!-- 门店信息卡片 -->\n\t\t<view class=\"shop-info-card\" v-if=\"shopInfo.id\">\n\t\t\t<view class=\"shop-header\">\n\t\t\t\t<view class=\"shop-name\">{{shopInfo.shopName}}</view>\n\t\t\t\t<view class=\"shop-hours\">营业时间: {{shopInfo.businessHours}}</view>\n\t\t\t</view>\n\t\t\t<view class=\"shop-body\">\n\t\t\t\t<view class=\"shop-notice\">{{shopInfo.notice}}</view>\n\t\t\t\t<view class=\"shop-contact\">\n\t\t\t\t\t<view class=\"shop-address\">\n\t\t\t\t\t\t<image src=\"/static/icons/common/location-white.svg\" class=\"contact-icon\"></image>\n\t\t\t\t\t\t<text>{{shopInfo.address}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"shop-phone\" @click=\"callShop\">\n\t\t\t\t\t\t<image src=\"/static/icons/common/phone.svg\" class=\"contact-icon\" style=\"width: 28rpx; height: 28rpx;\"></image>\n\t\t\t\t\t\t<text>{{shopInfo.phone}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 店内点单提示 -->\n\t\t<view class=\"store-order-tip\">\n\t\t\t<view class=\"tip-icon\">\n\t\t\t\t<image src=\"/static/icons/common/shop.svg\" class=\"tip-icon-img\"></image>\n\t\t\t</view>\n\t\t\t<view class=\"tip-text\">\n\t\t\t\t<text class=\"tip-title\">欢迎光临</text>\n\t\t\t\t<text class=\"tip-desc\">店内点单更便捷</text>\n\t\t\t</view>\n\t\t\t<view class=\"tip-btn\">\n\t\t\t\t<button size=\"mini\" type=\"primary\" @click=\"goToMenu\">去点餐</button>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 新增快捷入口卡片 -->\n\t\t<view class=\"quick-entry-wrapper\">\n\t\t\t<view class=\"entry-item\" @click=\"goToMenu\">\n\t\t\t\t<view class=\"entry-icon-wrapper drink\">\n\t\t\t\t\t<image src=\"/static/icons/common/coffee.svg\" class=\"entry-icon-img\"></image>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"entry-text\">今天喝点啥</text>\n\t\t\t</view>\n\t\t\t<view class=\"entry-item\" @click=\"goToMenu\">\n\t\t\t\t<view class=\"entry-icon-wrapper new\">\n\t\t\t\t\t<image src=\"/static/icons/common/new.svg\" class=\"entry-icon-img\"></image>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"entry-text\">新品上线</text>\n\t\t\t</view>\n\t\t\t<view class=\"entry-item\" @click=\"goToMenu\">\n\t\t\t\t<view class=\"entry-icon-wrapper free\">\n\t\t\t\t\t<image src=\"/static/icons/common/gift.svg\" class=\"entry-icon-img\"></image>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"entry-text\">0元兑换</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 网络错误提示 -->\n\t\t<view class=\"network-error\" v-if=\"networkError\">\n\t\t\t<text class=\"error-text\">网络连接失败，请检查网络设置</text>\n\t\t\t<button size=\"mini\" type=\"primary\" @click=\"retryLoad\">重试</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport api from '@/utils/api.js';\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tnetworkError: false,\n\t\t\t\ttableNumber: '',\n\t\t\t\tshopInfo: {}\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.loadHomeData();\n\t\t},\n\t\tonShow() {\n\t\t\t// 页面显示时刷新数据\n\t\t\tthis.loadHomeData();\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\t// 下拉刷新\n\t\t\tthis.loadHomeData();\n\t\t\tuni.stopPullDownRefresh();\n\t\t},\n\t\tmethods: {\n\t\t\t// 加载首页数据\n\t\t\tloadHomeData() {\n\t\t\t\tthis.networkError = false;\n\t\t\t\tthis.getShopInfo();\n\t\t\t},\n\t\t\t\n\t\t\t// 获取门店信息\n\t\t\tgetShopInfo() {\n\t\t\t\tapi.getShopInfo()\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.data.code === 200) {\n\t\t\t\t\t\t\tthis.shopInfo = res.data.data;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.showError(res.data.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\tthis.networkError = true;\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 拨打门店电话\n\t\t\tcallShop() {\n\t\t\t\tif (this.shopInfo.phone) {\n\t\t\t\t\tuni.makePhoneCall({\n\t\t\t\t\t\tphoneNumber: this.shopInfo.phone,\n\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\t// 用户取消拨打电话不显示错误\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 跳转到点单页面\n\t\t\tgoToMenu() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/menu/menu'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 重试加载\n\t\t\tretryLoad() {\n\t\t\t\tthis.loadHomeData();\n\t\t\t},\n\t\t\t\n\t\t\t// 显示错误提示\n\t\t\tshowError(message) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: message || '操作失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.home-container {\n\t\tpadding-bottom: 30rpx;\n\t\tbackground-color: #121212;\n\t}\n\t\n\t/* 轮播图样式 */\n\t.banner-swiper {\n\t\theight: 500rpx;\n\t\twidth: 100%;\n\t}\n\t\n\t.banner-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t/* 门店信息卡片样式 */\n\t.shop-info-card {\n\t\tmargin: -30rpx 20rpx 30rpx 20rpx;\n\t\tbackground-color: #1e1e1e;\n\t\tborder-radius: 50rpx;\n\t\tpadding: 20rpx;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.2);\n\t\tposition: relative;\n\t\tz-index: 1;\n\t}\n\t\n\t.shop-header {\n\t\tborder-bottom: 1rpx solid #2e2e2e;\n\t\tpadding-bottom: 16rpx;\n\t\tmargin-bottom: 16rpx;\n\t}\n\t\n\t.shop-name {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #ffffff;\n\t\tmargin-bottom: 8rpx;\n\t}\n\t\n\t.shop-hours {\n\t\tfont-size: 24rpx;\n\t\tcolor: #a0a0a0;\n\t}\n\t\n\t.shop-body {\n\t\t\n\t}\n\t\n\t.shop-notice {\n\t\tfont-size: 26rpx;\n\t\tcolor: #a0a0a0;\n\t\tbackground-color: #2a2a2a;\n\t\tpadding: 16rpx;\n\t\tborder-radius: 12rpx;\n\t\tmargin-bottom: 16rpx;\n\t\tline-height: 1.5;\n\t}\n\t\n\t.shop-contact {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tfont-size: 24rpx;\n\t\tcolor: #a0a0a0;\n\t}\n\t\n\t.shop-address, .shop-phone {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.shop-address .contact-icon, .shop-phone .contact-icon {\n\t\twidth: 28rpx;\n\t\theight: 28rpx;\n\t\tmargin-right: 8rpx;\n\t\tdisplay: inline-block;\n\t}\n\t\n\t.shop-phone {\n\t\tcolor: #7b68ee;\n\t}\n\t\n\t/* 店内点单提示样式 */\n\t.store-order-tip {\n\t\tmargin: 20rpx;\n\t\tbackground: linear-gradient(135deg, #3a3a8c, #2d3070);\n\t\tborder-radius: 50rpx;\n\t\tpadding: 60rpx 30rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.3);\n\t\theight: 240rpx;\n\t\tbox-sizing: border-box;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.tip-icon {\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t\tline-height: 100rpx;\n\t\ttext-align: center;\n\t\tbackground-color: rgba(255, 255, 255, 0.1);\n\t\tborder-radius: 50%;\n\t\tmargin-right: 30rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.tip-icon-img {\n\t\twidth: 50rpx;\n\t\theight: 50rpx;\n\t}\n\t\n\t.tip-text {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tcolor: #fff;\n\t\tflex: 1;\n\t}\n\t\n\t.tip-title {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 15rpx;\n\t}\n\t\n\t.tip-desc {\n\t\tfont-size: 28rpx;\n\t\tcolor: rgba(255, 255, 255, 0.7);\n\t}\n\t\n\t.tip-btn button {\n\t\tbackground-color: #7066e2;\n\t\tcolor: #ffffff;\n\t\tfont-size: 30rpx;\n\t\tpadding: 0 30rpx;\n\t\theight: 70rpx;\n\t\tline-height: 70rpx;\n\t\tborder: none;\n\t}\n\t\n\t/* 新增快捷入口卡片样式 */\n\t.quick-entry-wrapper {\n\t\tmargin: 20rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tpadding: 10rpx;\n\t}\n\t\n\t.entry-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 31%;\n\t\theight: 180rpx;\n\t\tbackground-color: #1e1e1e;\n\t\tborder-radius: 50rpx;\n\t\tpadding: 20rpx 0;\n\t\tbox-shadow: 0 8rpx 30rpx rgba(0, 0, 0, 0.4);\n\t}\n\t\n\t.entry-icon-wrapper {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.entry-icon-wrapper.drink {\n\t\tbackground: linear-gradient(135deg, #6f42c1, #7066e2);\n\t}\n\t\n\t.entry-icon-wrapper.new {\n\t\tbackground: linear-gradient(135deg, #e83e8c, #ff6b6b);\n\t}\n\t\n\t.entry-icon-wrapper.free {\n\t\tbackground: linear-gradient(135deg, #fd7e14, #ffc107);\n\t}\n\t\n\t.entry-icon-wrapper .entry-icon-img {\n\t\twidth: 40rpx;\n\t\theight: 40rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.entry-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #ffffff;\n\t\tmargin-top: 10rpx;\n\t}\n\t\n\t/* 网络错误提示 */\n\t.network-error {\n\t\tmargin: 40rpx;\n\t\tpadding: 30rpx;\n\t\ttext-align: center;\n\t\tbackground-color: #1e1e1e;\n\t\tborder-radius: 16rpx;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.2);\n\t}\n\t\n\t.error-text {\n\t\tcolor: #a0a0a0;\n\t\tmargin-bottom: 20rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.network-error button {\n\t\tbackground: linear-gradient(135deg, #2c2c7c, #1f1a54);\n\t\tcolor: #ffffff;\n\t\tborder: none;\n\t\tborder-radius: 30rpx;\n\t\tbox-shadow: 0 4rpx 10rpx rgba(0, 0, 0, 0.3);\n\t}\n</style>\n","import MiniProgramPage from 'C:/Users/LXD/Desktop/奶茶点单系统/milktea-uniapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","api"],"mappings":";;;;AA6EC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,cAAc;AAAA,MACd,aAAa;AAAA,MACb,UAAU,CAAC;AAAA,IACZ;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,aAAY;AAAA,EACjB;AAAA,EACD,SAAS;AAER,SAAK,aAAY;AAAA,EACjB;AAAA,EACD,oBAAoB;AAEnB,SAAK,aAAY;AACjBA,kBAAG,MAAC,oBAAmB;AAAA,EACvB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,eAAe;AACd,WAAK,eAAe;AACpB,WAAK,YAAW;AAAA,IAChB;AAAA;AAAA,IAGD,cAAc;AACbC,gBAAAA,IAAI,YAAY,EACd,KAAK,SAAO;AACZ,YAAI,IAAI,KAAK,SAAS,KAAK;AAC1B,eAAK,WAAW,IAAI,KAAK;AAAA,eACnB;AACN,eAAK,UAAU,IAAI,KAAK,OAAO;AAAA,QAChC;AAAA,OACA,EACA,MAAM,MAAM;AACZ,aAAK,eAAe;AAAA,MACtB,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,WAAW;AACV,UAAI,KAAK,SAAS,OAAO;AACxBD,sBAAAA,MAAI,cAAc;AAAA,UACjB,aAAa,KAAK,SAAS;AAAA,UAC3B,MAAM,MAAM;AAAA,UAEZ;AAAA,QACD,CAAC;AAAA,MACF;AAAA,IACA;AAAA;AAAA,IAGD,WAAW;AACVA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,YAAY;AACX,WAAK,aAAY;AAAA,IACjB;AAAA;AAAA,IAGD,UAAU,SAAS;AAClBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO,WAAW;AAAA,QAClB,MAAM;AAAA,MACP,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtJD,GAAG,WAAW,eAAe;"}